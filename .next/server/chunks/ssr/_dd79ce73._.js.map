{"version":3,"sources":["../../../../src/actions/settings.ts","../../../../.next-internal/server/app/settings/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["'use server'\r\n\r\nimport { prisma } from '@/lib/prisma'\r\nimport { revalidatePath } from 'next/cache'\r\n\r\nexport async function updateSettings(data: any) {\r\n    // Update the singleton settings (id=1)\r\n    // Ensure types match schema\r\n    await prisma.settings.update({\r\n        where: { id: 1 },\r\n        data: {\r\n            primaryColor: data.primaryColor,\r\n            accentColor: data.accentColor,\r\n            darkMode: data.darkMode,\r\n            gamification: data.gamification,\r\n            soundEnabled: data.soundEnabled\r\n            // tasksPerDay etc. if needed\r\n        }\r\n    })\r\n\r\n    revalidatePath('/settings')\r\n    revalidatePath('/') // Revalidate root for color changes if they were server applied (they are not, but good practice)\r\n}\r\n\r\nexport async function getSettings() {\r\n    return await prisma.settings.findUnique({ where: { id: 1 } })\r\n}\r\n","export {getProjectsConfig as '009f2efe35c6bb3be99d405c8ec69f61ce0664efac'} from 'ACTIONS_MODULE0'\nexport {getSettings as '00aff763209ebfbaf664f187123910df120ad75773'} from 'ACTIONS_MODULE1'\nexport {updateSettings as '40e3b46b77dd0f5ee0c29cfc54c1dbfdb0f9e05b5b'} from 'ACTIONS_MODULE1'\nexport {updateSettings as '40e3b46b77dd0f5ee0c29cfc54c1dbfdb0f9e05b5b'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,EAAe,CAAS,EAG1C,MAAM,EAAA,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CACzB,MAAO,CAAE,GAAI,CAAE,EACf,KAAM,CACF,aAAc,EAAK,YAAY,CAC/B,YAAa,EAAK,WAAW,CAC7B,SAAU,EAAK,QAAQ,CACvB,aAAc,EAAK,YAAY,CAC/B,aAAc,EAAK,YAAY,AAEnC,CACJ,GAEA,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,aACf,CAAA,EAAA,EAAA,cAAc,AAAd,EAAe,IACnB,CAEO,CAHiB,cAGF,IAClB,OAAO,MAAM,EAAA,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,CAAE,GAAI,CAAE,CAAE,EAC/D,uBAL0H,mBAhBpG,EAmBA,IAnBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAmBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,gFCxBtB,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA"}