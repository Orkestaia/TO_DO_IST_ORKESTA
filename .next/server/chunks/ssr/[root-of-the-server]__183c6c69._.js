module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},1269,a=>{"use strict";var b=a.i(717);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],1269)},99123,a=>{"use strict";var b=a.i(7997),c=a.i(66518),d=a.i(1269);let e=(0,d.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),f=(0,d.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,d.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),h=(0,d.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);async function i(){let a=await c.prisma.task.count({where:{status:"done"}}),d=await c.prisma.task.count({where:{priority:"P1",status:{not:"done"}}}),i=await c.prisma.task.count({where:{status:"waiting"}}),j=await c.prisma.task.groupBy({by:["projectId"],where:{status:{not:"done"},projectId:{not:null}},_count:{id:!0}}),k=(await Promise.all(j.map(async a=>{if(!a.projectId)return null;let b=await c.prisma.project.findUnique({where:{id:a.projectId}});return{name:b?.name,count:a._count.id,color:b?.color}}))).filter(a=>null!==a);return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto pb-20",children:[(0,b.jsx)("header",{className:"mb-8",children:(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight mb-1 flex items-center gap-2",children:[(0,b.jsx)(e,{})," Dashboard Ejecutivo"]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[(0,b.jsxs)("div",{className:"bg-neutral-900/50 border border-neutral-800 p-6 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-neutral-400 mb-2",children:[(0,b.jsx)(f,{size:20})," Total Completadas"]}),(0,b.jsx)("div",{className:"text-4xl font-bold text-white",children:a})]}),(0,b.jsxs)("div",{className:"bg-red-900/10 border border-red-900/30 p-6 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-red-400 mb-2",children:[(0,b.jsx)(g,{size:20})," P1 Activas (Foco)"]}),(0,b.jsx)("div",{className:"text-4xl font-bold text-red-200",children:d}),(0,b.jsx)("div",{className:"text-xs text-red-400 mt-2",children:"Max. recomendado: 5"})]}),(0,b.jsxs)("div",{className:"bg-neutral-900/50 border border-neutral-800 p-6 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-neutral-400 mb-2",children:[(0,b.jsx)(h,{size:20})," En Espera (Waiting)"]}),(0,b.jsx)("div",{className:"text-4xl font-bold text-white",children:i})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Carga por Proyecto (Activas)"}),(0,b.jsx)("div",{className:"space-y-4",children:0===k.length?(0,b.jsx)("p",{className:"text-neutral-500",children:"No hay datos suficientes."}):k.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("span",{className:"text-neutral-400",children:[a.count," tareas"]})]}),(0,b.jsx)("div",{className:"h-2 bg-neutral-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-purple-600 rounded-full",style:{width:`${Math.min(a.count/10*100,100)}%`}})})]},c))})]})]})}a.s(["default",()=>i],99123)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__183c6c69._.js.map